<div class="update-container">
    <app-header></app-header>
    <br>

    <div class="container-data update-container" >
        <h4 style="text-align:center; font-weight:bold"> Silverware Profile </h4> 
        
        <mat-card *ngIf="userDetails.svw_firebaseid" class="svw-card">
            <img mat-card-image class="svw-profile-photo"
            style="width: 29%; text-align: center; margin: auto;" 
            *ngIf="userDetails.svw_photoUrl" src="{{userDetails.svw_photoUrl}}" alt="profile">
            <br>
          </mat-card>

        <mat-form-field class="container-data" hintLabel="Max 50 characters">
            <mat-label>Name:</mat-label>
            <input maxlength="50" [(ngModel)]="userDetails.svw_name"matInput placeholder="name">
        </mat-form-field>
        <br>
        <mat-form-field>
            <mat-label>Email:</mat-label>
            <input [(ngModel)]="userDetails.svw_email" matInput placeholder="Enter your email" disabled>
        </mat-form-field>
        <br>
        <mat-form-field appearance="fill">
            <mat-label>Date of birth:</mat-label>
            <input matInput [matDatepicker]="dp3" [(ngModel)]="userDetails.svw_dob" [max]="validations.presentDate" disabled>
            <mat-datepicker-toggle matIconSuffix [for]="dp3"></mat-datepicker-toggle>
            <mat-datepicker #dp3 disabled="false"></mat-datepicker>
        </mat-form-field>
        <br>
        <table  cellspacing="0"><tr>
            <td>
                <mat-form-field>
                <mat-label>City:</mat-label>
                <input matInput [(ngModel)]="userDetails.svw_city" placeholder="Ex. Toronto">
                </mat-form-field></td>
            <td> 
                <mat-form-field appearance="fill">
                    <mat-label>Province</mat-label>
                    <select matNativeControl [(ngModel)]="userDetails.svw_province">
                      <option *ngFor="let province of provinces" value="{{province.value}}">{{province.name}}</option>
                    </select>
                  </mat-form-field>
            </td>
            <td>
                <mat-form-field>
                <mat-label>Postal Code:</mat-label>
                <input matInput #postalCode maxlength="6" placeholder="Ex. N2L3L2" [(ngModel)]="userDetails.svw_postalcode">
                <mat-hint align="end">{{postalCode.value.length}} / 6</mat-hint>
                </mat-form-field>
            </td>
          </tr></table>
        <br>
        <mat-form-field hintLabel="Max 500 characters">
            <label> About me: </label>
            <textarea [(ngModel)]="userDetails.svw_bio" maxlength="500" style="height: 200px" matInput #about></textarea>
            <mat-hint align="end">{{about.value?.length || 0}}/500</mat-hint>
        </mat-form-field>
        <mat-form-field hintLabel="Max 50 characters">
            <label> Address: </label>
            <textarea [(ngModel)]="userDetails.svw_address" maxlength="50" matInput #address></textarea>
            <mat-hint align="end">{{address.value?.length || 0}}/50</mat-hint>
        </mat-form-field>
        <br>
        <button mat-raised-button color="primary" (click)="userProfileUpdate()">Update Profile</button>
      </div>
  </div>